
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->

<head>


<meta charset="utf-8">
<meta http-equiv="cleartype" content="on">

<title>Getting Started Fullstack: Setting Up the Server - Fullstack Development w/ Javascript</title>
<meta name="author" content="Emre Guneyler">




<meta name="description" content="Blog about javascript, nodejs, emberjs, backbone, requirejs, yeoman, phaser, web development, game development, and anything that interests me about &hellip;">

<meta name="keywords" content="bower mongodb nodejs npm javascript nodejs emberjs backbone phaser requirejs yeoman web-development game-development">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Twitter Cards -->

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/images/diary-bg20.jpg"
  
  <meta name="twitter:title" content="Getting Started Fullstack: Setting Up The Server">
  <meta name="twitter:description" content="Blog about javascript, nodejs, emberjs, backbone, requirejs, yeoman, phaser, web development, game development, and anything that interests me about &hellip;">
  <meta name="twitter:creator" content="@eguneys">


<!-- Open Graph -->
<meta property="og:local" content="en_US">
<meta property="og:type" content="article">
<meta property="og:url" content="http://www.eguneys.com/blog/2013/12/31/getting-started-fullstack-building-a-simple-blog-part-1">
<meta property="og:title" content="Getting Started Fullstack: Setting Up The Server">
<meta property="og:description" content="Blog about javascript, nodejs, emberjs, backbone, requirejs, yeoman, phaser, web development, game development, and anything that interests me about &hellip;">

  <meta property="og:image" content="/images/diary-bg20.jpg">

<meta property="og:site_name" content="Fullstack Development w/ Javascript">

<link rel="canonical" href="http://www.eguneys.com/blog/2013/12/31/getting-started-fullstack-building-a-simple-blog-part-1">
<link href="/favicon.png" rel="icon">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<link href="/atom.xml" rel="alternate" title="Fullstack Development w/ Javascript" type="application/atom+xml">

<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
<script>Modernizr || document.write('<script src="/javascripts/vendor/modernizr-2.6.2.custom.min.js"><\/script>') </script>


  
      
  

  
    
  

  <style type="text/css">body {background-image:url(/images/colorflags-bg.jpg);}</style>


<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">


</head>

<body id="post" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/avatar.jpg" alt="Emre Guneyler photo" class="author-photo">
					<h4>Emre Guneyler</h4>
					<p>Fullstack Hipster</p>
				</li>
				<li><a href="/about">Learn More</a></li>-
				
				<li>
					<a href="http://twitter.com/eguneys"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://plus.google.com/eguneys"><i class="fa fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="http://github.com/eguneys"><i class="fa fa-github"></i> GitHub</a>
				</li>
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">All Posts</a></li>
				<li><a href="/categories/">All Categories</a></li>
			</ul>
		</li>
		<li><a href="http://jsgamesonline.com">JS Games</a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<nav class="lang-switch" role="navigation">
  <a href="/">EN</a>
  <a href="/tr">TR</a>
</nav>
      



<div class="entry-header">
  
  <div class="entry-image">
    <img src="/images/diary-bg20.jpg" alt="Getting Started Fullstack: Setting Up The Server">
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="/blog/2013/12/31/getting-started-fullstack-building-a-simple-blog-part-1/" rel="bookmark" title="Getting Started Fullstack: Setting Up The Server">Getting Started Fullstack: Setting Up The Server</a></h1>
        
        <h2>December 31, 2013</h2>
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>Getting Started Full Stack - Building a simple blog - Part 1</p>

<p> In this post, we will install the required components to build a simple blog. In the end of this post, you will be serving a hello world page, with a responsive bootstrap theme, and all necessary script files.</p>

<h1>Server Side:</h1>

<dl>
<dt><a href="http://nodejs.org">Node.js</a></dt>
<dd>Host the website, on javascript platform, based on Google&rsquo;s <a href="https://code.google.com/p/v8/">V8</a> JavaScript Engine</dd>
<dt><a href="http://expressjs.com/guide.html">Express</a></dt>
<dd>Web application framework for node.js</dd>
<dt><a href="http://docs.mongodb.org/manual/installation">Mongodb</a></dt>
<dd>Open-Source NoSQL database written in C++. Also look at <a href="mongoosejs.com/docs/index.html">Mongoosejs</a>, simple mongodb driver for nodejs.</dd>
<dt><a href="http://bower.io">Bower</a></dt>
<dd>Package manager for the web. Simplifies installing client side resources.</dd>
</dl>

<h1>Client Side:</h1>

<dl>
<dt><a href="http://getbootstrap.com/getting-started">Bootstrap</a></dt>
<dd>Responsive front-end css framework.</dd>
<dt><a href="http://jquery.com/download">JQuery</a></dt>
<dd>Javascript, for interactive webpages.</dd>
<dt><a href="http://backbonejs.org">Backbone.js</a></dt>
<dd>Gives structure to web applications. Models, Collections and Views.</dd>
</dl>

<h1>Let&rsquo;s get Started</h1>

<h2>Introduction</h2>

<p>Building a simple blog, solving problems along the path, it&rsquo;s gonna be fun.</p>

<h3>Web Server</h3>

<p>Nodejs hosts the website. Serving pages, scripts and stylesheets.
Expressjs is a web application framework, simplifies dealing with serving pages.
It uses middleware to extend functionality like plugins.</p>

<h3>Database</h3>

<p>Mongodb our nosql database. it has no relational tables, but nested documents.
Mongoosejs is our driver for mongodb on nodejs. Model schemas and operate.</p>

<h3>Content Management</h3>

<p>Bower downloads scripts and stylesheets from web into our path, we will simply reference it.</p>

<h3>CSS Theme</h3>

<p>Bootstrap gives the site a nice look. Responsive, meaning it will behave when resized, looks nice on any device.</p>

<h3>Javascript</h3>

<p>JQuery, main dependency for manipulating dom.
Backbone.js is mvc framework for building client side interaction.</p>

<blockquote><p>Backbone.js is lightweight, and heavily depends on Jquery, a popular alternative is <a href="http://angularjs.org">angularjs</a>. Angular.js doesn&rsquo;t need Jquery, and is a higher level framework.</p>

<p>Backbone.js doesn&rsquo;t implement templating. Templating is supported by mainly <a href="http://underscorejs.org/#template">underscore.js</a> or other libraries. (<a href="http://handlebarsjs.com/">handlebarsjs</a>, <a href="http://mustache.github.io/">mustache</a>)</p>

<p>Backbone.js will teach us more about structure, templating, jquery, and javascript. We should move to higher level frameworks later on. (possibly built on backbonejs) Finally, backbonejs isn&rsquo;t bound to SPA&rsquo;s, we may use it for other projects later on (more coming after this).</p></blockquote>

<h2>Installation</h2>

<p><code>I use ubuntu/linux you should find a way to install on your platform, read the guides and google.</code></p>

<h2>Npm, Node.js</h2>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># install node.js</span>
sudo add-apt-repository -y ppa:chris-lea/node.js
sudo apt-get update
sudo apt-get install nodejs

<span class="c"># test should look like: v0.10.12</span>
node -v</code></pre></div>


<p>Or,
follow the <a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">Instructions</a></p>

<p>This will also install npm package manager. Npm is used to install packages required by node.js.</p>

<h2>Mongodb</h2>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># install mongodb</span>
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 7F0CEB10
<span class="nb">echo</span> <span class="s1">&#39;deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen&#39;</span> <span class="p">|</span> sudo tee /etc/apt/sources.list.d/mongodb.list
sudo apt-get update
sudo apt-get install mongodb-10gen

<span class="c"># test should bring mongo shell, Ctrl-c to break</span>
mongo</code></pre></div>


<p>More <a href="http://docs.mongodb.org/manual/installation/">Instructions</a></p>

<h2>Bower</h2>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#install bower</span>
npm install -g bower
<span class="c"># test should look like: 1.2.8</span>
bower -v</code></pre></div>


<p>More <a href="http://bower.io">Instructions</a></p>

<blockquote><p>Congratz, this is enough to host our simple blog. We will learn these tools along the way. Now let&rsquo;s build our codebase.</p></blockquote>

<h1>Directory Structure</h1>

<p>Build the following directory structure. public folder will host our public pages, scripts and stylesheets. &lsquo;scripts&rsquo; folder will host javascript code for running the nodejs server, interacting with mongodb.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">../mysimpleblog
<span class="sb">`</span>-- app
    <span class="p">|</span>-- public
    <span class="p">|</span>   <span class="sb">`</span>-- js
    <span class="p">|</span>       <span class="p">|</span>-- collections
    <span class="p">|</span>       <span class="p">|</span>-- models
    <span class="p">|</span>       <span class="p">|</span>-- routers
    <span class="p">|</span>       <span class="sb">`</span>-- views
    <span class="sb">`</span>-- scripts</code></pre></div>


<h1>Configuration</h1>

<h2>Package.json</h2>

<div><script src='https://gist.github.com/e0ae625587d0f578a8e0.js'></script>
<noscript><pre><code>{
    &quot;name&quot;: &quot;Simple_Blog&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;description&quot; : &quot;A simple blog with backbone.js&quot;,
    &quot;dependencies&quot; : {
        &quot;express&quot;: &quot;latest&quot;,
        &quot;baucis&quot;: &quot;latest&quot;,
        &quot;connect&quot;: &quot;latest&quot;
    }
    
}</code></pre></noscript></div>


<p><a href="http://package.json.nodejitsu.com/">package.json</a> is a packaging format for node.js.
Important part here is dependencies, where we declare dependencies for our project.
Place it in root folder of your project, where your app folder resides.</p>

<p><a href="expressjs.com">express</a> : web application framework, It uses middleware to handle http requests.
Middleware could be third party code, which we will use shortly.</p>

<p><a href="https://github.com/wprl/baucis">baucis</a> : Baucis is Express middleware that creates configurable REST APIs using Mongoose schemata</p>

<p><a href="https://github.com/senchalabs/connect">connect</a> : Lower level middleware for node.js, not important for us any time soon. baucis needs it so we include.</p>

<h2>.bowerrc</h2>

<div><script src='https://gist.github.com/61b1ed8e2fee1d347c2f.js'></script>
<noscript><pre><code>{
        &quot;directory&quot;: &quot;app/public/bower_components&quot;
}</code></pre></noscript></div>


<p><a href="http://stackoverflow.com/questions/14079833/how-to-change-bowers-default-components-folder">.bowerrc</a> file will change bower&rsquo;s default components folder. Place it in root folder of your project.</p>

<h1>Installing packages</h1>

<p>Server side dependencies are defined in package.json, and installed with npm. Client side dependencies are defined in bower.json and installed with bower.</p>

<p>However we won&rsquo;t be using bower.json rather install the required files manually.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># install server side packages (defined in package.json)</span>
npm install
<span class="c">#install client side packages manually with bower</span>
bower install bootstrap
bower install fontawesome

bower install jquery
bower install backbonejs
bower install underscore</code></pre></div>


<p>Server side packages can be directly used in javascript code, we will see how that&rsquo;s done later. Client side packages are simply files downloaded in directory we defined in .bowerrc so you can check it out there. We will reference them in our index.html.</p>

<h1>Setting up the server</h1>

<p>Final step is to actually setup the server, so we can host our files. Go to app/scripts directory and create the two files below.</p>

<div><script src='https://gist.github.com/938cd7857d3480f63d7a.js'></script>
<noscript><pre><code>var path = require(&#39;path&#39;);
// File IO module
var fs = require(&#39;fs&#39;);
// This is how you export things to other modules. 
// See routes.index usage in web.js routes.index is 
// replaced by this function.
// This function is a middleware for handling http requests
exports.index = function(req, res) {
    // read index.html and send as response
    fs.readFile(path.join(__dirname, &#39;../public/index.html&#39;), &#39;utf8&#39;, function(err, text) {
        res.send(text);
    });
}</code></pre></noscript></div>


<p>Further information:
<a href="http://stackoverflow.com/questions/12695591/node-js-express-js-how-does-app-router-work">middleware</a> ,
<a href="http://stackoverflow.com/questions/5311334/what-is-the-purpose-of-nodejs-module-exports-and-how-do-you-use-it">require</a> .</p>

<p>Finally we need an index.html to serve, and we are ready to launch. Go to app/public directory and create the file below.</p>

<div><script src='https://gist.github.com/917ed8e8f24570f696fa.js?file=index.html'></script>
<noscript><pre><code>&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Simple Blog&lt;/title&gt;

    
    &lt;link href=&quot;/bower_components/bootstrap/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
    &lt;link href=&quot;/bower_components/font-awesome/css/font-awesome.min.css&quot; rel=&quot;stylesheet&quot;&gt;
  &lt;/head&gt;

  &lt;body&gt;


    &lt;nav class=&quot;navbar navbar-default&quot;&gt;
      &lt;div class=&quot;navbar-header&quot;&gt;
        &lt;button class=&quot;navbar-toggle&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbar-collapse&quot;&gt;
          &lt;span class=&quot;sr-only&quot;&gt; Toggle navigation&lt;/span&gt;
      &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
      &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
      &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
    &lt;/button&gt;
    &lt;a class=&quot;navbar-brand&quot; href=&#39;#&#39;&gt; Simple Blog &lt;/a&gt;
      &lt;/div&gt;

      &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbar-collapse&quot;&gt;
        &lt;ul class=&quot;nav navbar-nav&quot; id=&quot;nav-item-container&quot;&gt;
    &lt;/ul&gt;
      &lt;/div&gt;

    &lt;/nav&gt;
    
    &lt;div class=&quot;container&quot; id=&quot;container&quot;&gt;
      &lt;h1&gt; Hello World &lt;/h1&gt;
    &lt;/div&gt;


      &lt;script src=&quot;/bower_components/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;
      &lt;script src=&quot;/bower_components/bootstrap/dist/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;
      &lt;script src=&quot;/bower_components/underscore/underscore-min.js&quot;&gt;&lt;/script&gt;
      &lt;script src=&quot;/bower_components/backbone/backbone-min.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
  
&lt;/html&gt;</code></pre></noscript></div>


<h1>Launch Time</h1>

<p>To run the server go to app folder and run:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># test: output should be </span>
   <span class="c"># - listening on port 3000</span>
   node ./scripts/web</code></pre></div>


<p>Now launch your browser and locate to <a href="http://localhost:3000.">http://localhost:3000.</a></p>

<p>One final note here is that, if you make changes inside app/public
folder, a browser refresh is enough to see the changes, if you make
changes inside app/scripts folder, you need to restart the server, in
order to changes to take effect. There are tools to live reload every
change but that&rsquo;s for a later time.</p>

<blockquote><p>Please share your thoughts below. Thank you.</p></blockquote>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="/categories/#bower" title="Pages tagged bower" class="tag">bower</a><a href="/categories/#mongodb" title="Pages tagged mongodb" class="tag">mongodb</a><a href="/categories/#nodejs" title="Pages tagged nodejs" class="tag">nodejs</a><a href="/categories/#npm" title="Pages tagged npm" class="tag">npm</a></span>
        <span><a href="/blog/2013/12/31/getting-started-fullstack-building-a-simple-blog-part-1/" rel="bookmark" title="Getting Started Fullstack: Setting Up The Server">Getting Started Fullstack: Setting Up The Server</a> was published on <span class="entry-date date published updated"><time datetime="2013-12-31T02:52:07+02:00">December 31, 2013</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="" title="About Emre Guneyler">Emre Guneyler</a></span></span>
        <div class="social-share">
          <ul class="socialcount socialcount-small inline-list">
            <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=/blog/2013/12/31/getting-started-fullstack-building-a-simple-blog-part-1/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
            <li class="twitter"><a href="https://twitter.com/intent/tweet?text=/blog/2013/12/31/getting-started-fullstack-building-a-simple-blog-part-1/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
            <li class="googleplus"><a href="https://plus.google.com/share?url=/blog/2013/12/31/getting-started-fullstack-building-a-simple-blog-part-1/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
          </ul>
        </div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    
      <div class="read-more">
        
          <div class="read-more-header">
            <a href="/tr/blog/2014/10/09/hayat-hikayem/" class="btn">Read More</a>
          </div><!-- /.read-more-header -->
          <div class="read-more-content">
            <h3><a href="/tr/blog/2014/10/09/hayat-hikayem/" title="Hayat Hikayem">Hayat Hikayem</a></h3>
            <p>## Hayat HikayemHer çocuk özel olduğunu düşünür, dünyada bir fark yaratacaklarını. Eh,bende öyle düşünmüştüm. Benim durumumda gerçekten &hellip;&hellip; <a href="/tr/blog/2014/10/09/hayat-hikayem/"> Continue reading</a></p>
          </div><!-- /.read-more-content -->
        
        <div class="read-more-list">
          
            <div class="list-item">
              <h4><a href="/blog/2014/09/17/building-a-voting-app-front-end-slash-w-ember/" title="Building a Voting App: Front-end /w ember">Building a Voting App: Front-end /w ember</a></h4>
              <span>Published on September 17, 2014</span>
            </div><!-- /.list-item -->
          
            <div class="list-item">
              <h4><a href="/blog/2014/09/17/building-a-voting-app-rest-api-slash-w-sequelize/" title="Building a Voting App: REST API /w Sequelize">Building a Voting App: REST API /w Sequelize</a></h4>
              <span>Published on September 17, 2014</span>
            </div><!-- /.list-item -->
          
        </div><!-- /.read-more-list -->
      </div><!-- /.read-more -->
    
    
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Emre Guneyler. Powered by <a href="http://octopress.org">Octopress</a> using the <a href="https://github.com/Z1MM32M4N/hpstr-theme/">HPSTR Theme for Octopress</a>.</span>

  </footer>
</div><!-- /.footer-wrapper -->


	        
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/javascripts/vendor/jquery-1.9.1.min.js"><\/script>')</script>

<script src="/javascripts/octopress.js" type="text/javascript"></script>

<script src="/javascripts/scripts.min.js"></script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-42906606-6']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



	        

</body>
</html>
